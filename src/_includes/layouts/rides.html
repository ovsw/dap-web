{% extends "layouts/base.html" %}
{% set pageCriticalStyles = ['css/page.css'] %}

{% from 'components/grid-card.html' import gridCard as singleGridCard %}

{% block content %}

  {# <script>console.log({{sitePage.content | dump | safe}})</script> #}

  {% if sitePage.content.mainImage %}
  <style>
    .page-header {
      background-image: url('{% croppedUrlFor sitePage.content.mainImage, "400", "400" %}');
    }

    @media screen and (min-width: 400px) {
        .page-header {
          background-image: url('{% croppedUrlFor sitePage.content.mainImage, "800", "400" %}');
        }
    }
    @media screen and (min-width: 800px) {
        .page-header {
          background-image: url('{% croppedUrlFor sitePage.content.mainImage, "1200", "400" %}');
        }
    }
      @media screen and (min-width: 1200px) {
        .page-header {
          background-image: url('{% croppedUrlFor sitePage.content.mainImage, "1600", "400" %}');
        }
    }
  </style>
  {% endif %}

  <div class="[ page-header ]">

    <div class="page-header__content [ wrapper pannel ]" >
    
      <h1>Rides</h1>
    </div>
  </div>


  <div class=" [ wrapper auto-grid ]">
  {% for attraction in siteAttractions %}

    {% set rideCategory = attraction.content.category.split('|') %}

    {{ singleGridCard(
      titile=attraction.content.name,
      eyebrow=rideCategory[1],
      eyebrowColor='green',
      image=attraction.content.mainImage,
      alt=attraction.content.mainImage.alt,
      buttonText='more info <span class="visually-hidden">on '+ attraction.content.name +' ride </span>',
      buttonLink='#',
      titleHeadingLvl=3
    )}}

  {% endfor %}
  </div>

{% endblock %}